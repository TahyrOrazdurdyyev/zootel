# –°–≤–æ–¥–∫–∞ –∏–∑–º–µ–Ω–µ–Ω–∏–π: –†–∞—Å—à–∏—Ä–µ–Ω–Ω—ã–π –¥–æ—Å—Ç—É–ø –∫–æ–º–ø–∞–Ω–∏–π –∫ –¥–∞–Ω–Ω—ã–º –∫–ª–∏–µ–Ω—Ç–æ–≤

## ‚úÖ –ß—Ç–æ –±—ã–ª–æ —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ

### 1. –û–±–Ω–æ–≤–ª–µ–Ω–Ω—ã–µ –º–æ–¥–µ–ª–∏ –¥–∞–Ω–Ω—ã—Ö
- **–§–∞–π–ª**: `backend/internal/models/analytics.go`
- **–ò–∑–º–µ–Ω–µ–Ω–∏—è**: –†–∞—Å—à–∏—Ä–µ–Ω–∞ —Å—Ç—Ä—É–∫—Ç—É—Ä–∞ `CustomerData` –∏ `PetData` –¥–ª—è –≤–∫–ª—é—á–µ–Ω–∏—è:
  - –î–∞—Ç—ã —Ä–æ–∂–¥–µ–Ω–∏—è –∏ –ø–æ–ª–∞ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
  - –ü–æ–ª–Ω–æ–≥–æ –∞–¥—Ä–µ—Å–∞ (–≤–∫–ª—é—á–∞—è –∫–≤–∞—Ä—Ç–∏—Ä—É –∏ –ø–æ—á—Ç–æ–≤—ã–π –∫–æ–¥)
  - –≠–∫—Å—Ç—Ä–µ–Ω–Ω—ã—Ö –∫–æ–Ω—Ç–∞–∫—Ç–æ–≤
  - –ú–µ–¥–∏—Ü–∏–Ω—Å–∫–æ–π –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏ –ø–∏—Ç–æ–º—Ü–µ–≤
  - –ü–æ–≤–µ–¥–µ–Ω—á–µ—Å–∫–∏—Ö –¥–∞–Ω–Ω—ã—Ö –ø–∏—Ç–æ–º—Ü–µ–≤

### 2. –û–±–Ω–æ–≤–ª–µ–Ω–Ω—ã–µ —Å–µ—Ä–≤–∏—Å—ã
- **–§–∞–π–ª**: `backend/internal/services/booking.go`
- **–ù–æ–≤—ã–µ –º–µ—Ç–æ–¥—ã**:
  - `GetCustomerPetMedicalData()` - –ø–æ–ª—É—á–µ–Ω–∏–µ –º–µ–¥–∏—Ü–∏–Ω—Å–∫–∏—Ö –¥–∞–Ω–Ω—ã—Ö –ø–∏—Ç–æ–º—Ü–∞
  - `GetCustomerPetVaccinations()` - –ø–æ–ª—É—á–µ–Ω–∏–µ –≤–∞–∫—Ü–∏–Ω–∞—Ü–∏–π –ø–∏—Ç–æ–º—Ü–∞
  - `GetCustomerPetMedications()` - –ø–æ–ª—É—á–µ–Ω–∏–µ –ª–µ–∫–∞—Ä—Å—Ç–≤ –ø–∏—Ç–æ–º—Ü–∞
- **–û–±–Ω–æ–≤–ª–µ–Ω–Ω—ã–µ –º–µ—Ç–æ–¥—ã**:
  - `GetBookingsByCompany()` - —Ç–µ–ø–µ—Ä—å –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç —Ä–∞—Å—à–∏—Ä–µ–Ω–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ
  - `GetCompanyCustomers()` - —Ç–µ–ø–µ—Ä—å –≤–∫–ª—é—á–∞–µ—Ç –ø–æ–ª–Ω—É—é –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –æ –∫–ª–∏–µ–Ω—Ç–∞—Ö

### 3. –ù–æ–≤—ã–µ API endpoints
- `GET /api/v1/bookings/customer-pets/{petId}/medical-data`
- `GET /api/v1/bookings/customer-pets/{petId}/vaccinations`
- `GET /api/v1/bookings/customer-pets/{petId}/medications`

### 4. –°–∏—Å—Ç–µ–º–∞ –∫–æ–Ω—Ç—Ä–æ–ª—è –¥–æ—Å—Ç—É–ø–∞
- –ü—Ä–æ–≤–µ—Ä–∫–∞ –ø—Ä–∞–≤ –¥–æ—Å—Ç—É–ø–∞ –Ω–∞ —É—Ä–æ–≤–Ω–µ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö
- –ö–æ–º–ø–∞–Ω–∏–∏ –ø–æ–ª—É—á–∞—é—Ç –¥–∞–Ω–Ω—ã–µ —Ç–æ–ª—å–∫–æ –æ –ø–∏—Ç–æ–º—Ü–∞—Ö —Å–≤–æ–∏—Ö –∫–ª–∏–µ–Ω—Ç–æ–≤
- –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –±–ª–æ–∫–∏—Ä–æ–≤–∫–∞ –ø—Ä–∏ –æ—Ç—Å—É—Ç—Å—Ç–≤–∏–∏ –¥–µ–ª–æ–≤—ã—Ö –æ—Ç–Ω–æ—à–µ–Ω–∏–π

## üîí –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å

### –ö–æ–Ω—Ç—Ä–æ–ª—å –¥–æ—Å—Ç—É–ø–∞
```sql
-- –ü—Ä–æ–≤–µ—Ä–∫–∞ –¥–æ—Å—Ç—É–ø–∞ –ø–µ—Ä–µ–¥ –≤—ã–¥–∞—á–µ–π –º–µ–¥–∏—Ü–∏–Ω—Å–∫–∏—Ö –¥–∞–Ω–Ω—ã—Ö
SELECT COUNT(*) FROM (
    SELECT 1 FROM bookings WHERE company_id = $1 AND pet_id = $2
    UNION
    SELECT 1 FROM orders o JOIN pets p ON o.user_id = p.user_id
    WHERE o.company_id = $1 AND p.id = $2
) as access_check
```

### –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ
- –í—Å–µ –∑–∞–ø—Ä–æ—Å—ã –∫ —Ä–∞—Å—à–∏—Ä–µ–Ω–Ω—ã–º –¥–∞–Ω–Ω—ã–º –ª–æ–≥–∏—Ä—É—é—Ç—Å—è
- –û—Ç—Å–ª–µ–∂–∏–≤–∞–Ω–∏–µ –¥–æ—Å—Ç—É–ø–∞ –∫ –º–µ–¥–∏—Ü–∏–Ω—Å–∫–æ–π –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏
- –ê—É–¥–∏—Ç–æ—Ä—Å–∫–∏–µ –∑–∞–ø–∏—Å–∏ –¥–ª—è —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–∏—è GDPR

## üìä –ü–µ—Ä–µ–¥–∞–≤–∞–µ–º—ã–µ –¥–∞–Ω–Ω—ã–µ

### –†–∞—Å—à–∏—Ä–µ–Ω–Ω–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ –∫–ª–∏–µ–Ω—Ç–∞—Ö:
- ‚úÖ –î–∞—Ç–∞ —Ä–æ–∂–¥–µ–Ω–∏—è –∏ –ø–æ–ª
- ‚úÖ –ü–æ–ª–Ω—ã–π –∞–¥—Ä–µ—Å (–≤–∫–ª—é—á–∞—è –∫–≤–∞—Ä—Ç–∏—Ä—É)
- ‚úÖ –≠–∫—Å—Ç—Ä–µ–Ω–Ω—ã–µ –∫–æ–Ω—Ç–∞–∫—Ç—ã (–∏–º—è, —Ç–µ–ª–µ—Ñ–æ–Ω, –æ—Ç–Ω–æ—à–µ–Ω–∏–µ)

### –ú–µ–¥–∏—Ü–∏–Ω—Å–∫–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –ø–∏—Ç–æ–º—Ü–µ–≤:
- ‚úÖ –•—Ä–æ–Ω–∏—á–µ—Å–∫–∏–µ –∑–∞–±–æ–ª–µ–≤–∞–Ω–∏—è –∏ –∞–ª–ª–µ—Ä–≥–∏–∏
- ‚úÖ –î–∏–µ—Ç–∏—á–µ—Å–∫–∏–µ –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è –∏ –æ—Å–æ–±—ã–µ –ø–æ—Ç—Ä–µ–±–Ω–æ—Å—Ç–∏
- ‚úÖ –ò—Å—Ç–æ—Ä–∏—è –≤–∞–∫—Ü–∏–Ω–∞—Ü–∏–π —Å –¥–∞—Ç–∞–º–∏ –∏ –≤–µ—Ç–µ—Ä–∏–Ω–∞—Ä–∞–º–∏
- ‚úÖ –¢–µ–∫—É—â–∏–µ –∏ –ø—Ä–æ—à–ª—ã–µ –ª–µ–∫–∞—Ä—Å—Ç–≤–∞ —Å –¥–æ–∑–∏—Ä–æ–≤–∫–∞–º–∏
- ‚úÖ –ö–æ–Ω—Ç–∞–∫—Ç—ã –≤–µ—Ç–µ—Ä–∏–Ω–∞—Ä–∞ –ø–∏—Ç–æ–º—Ü–∞
- ‚úÖ –ü–æ–≤–µ–¥–µ–Ω—á–µ—Å–∫–∏–µ –∑–∞–º–µ—Ç–∫–∏ –∏ —Ä–µ–∞–∫—Ü–∏–∏ –Ω–∞ —Å—Ç—Ä–µ—Å—Å

## üéØ –ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞ –¥–ª—è –±–∏–∑–Ω–µ—Å–∞

### –î–ª—è Pet –ö–æ–º–ø–∞–Ω–∏–π:
1. **–ö–∞—á–µ—Å—Ç–≤–æ —É—Å–ª—É–≥** - –∑–Ω–∞–Ω–∏–µ –∞–ª–ª–µ—Ä–≥–∏–π –∏ –æ—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–µ–π –ø–∏—Ç–æ–º—Ü–∞
2. **–ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å** - –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ –ª–µ–∫–∞—Ä—Å—Ç–≤–∞—Ö –∏ –ø—Ä–æ—Ç–∏–≤–æ–ø–æ–∫–∞–∑–∞–Ω–∏—è—Ö  
3. **–ü–µ—Ä—Å–æ–Ω–∞–ª–∏–∑–∞—Ü–∏—è** - –∞–¥–∞–ø—Ç–∞—Ü–∏—è –ø–æ–¥ –≤–æ–∑—Ä–∞—Å—Ç –∏ –ø–æ–≤–µ–¥–µ–Ω–∏–µ –ø–∏—Ç–æ–º—Ü–∞
4. **–≠—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω–æ—Å—Ç—å** - –±—ã—Å—Ç—Ä—ã–π –¥–æ—Å—Ç—É–ø –∫ –ø–æ–ª–Ω–æ–π –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏

### –î–ª—è Pet Owners:
1. **–õ—É—á—à–∏–π —Å–µ—Ä–≤–∏—Å** - –∫–æ–º–ø–∞–Ω–∏–∏ –∑–Ω–∞—é—Ç –æ—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏ –ø–∏—Ç–æ–º—Ü–∞
2. **–ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å** - —É—á–µ—Ç –º–µ–¥–∏—Ü–∏–Ω—Å–∫–∏—Ö –ø—Ä–æ—Ç–∏–≤–æ–ø–æ–∫–∞–∑–∞–Ω–∏–π
3. **–£–¥–æ–±—Å—Ç–≤–æ** - –Ω–µ –Ω—É–∂–Ω–æ –ø–æ–≤—Ç–æ—Ä—è—Ç—å –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –∫–∞–∂–¥—ã–π —Ä–∞–∑

## üõ°Ô∏è –°–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–∏–µ —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è–º

### GDPR Compliance:
- ‚úÖ –ó–∞–∫–æ–Ω–Ω–∞—è –æ—Å–Ω–æ–≤–∞: –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç—å –¥–ª—è –∏—Å–ø–æ–ª–Ω–µ–Ω–∏—è –¥–æ–≥–æ–≤–æ—Ä–∞
- ‚úÖ –ü—Ä–∏–Ω—Ü–∏–ø –º–∏–Ω–∏–º–∏–∑–∞—Ü–∏–∏: —Ç–æ–ª—å–∫–æ –¥–ª—è —Å–≤–æ–∏—Ö –∫–ª–∏–µ–Ω—Ç–æ–≤
- ‚úÖ –ü—Ä–æ–∑—Ä–∞—á–Ω–æ—Å—Ç—å: –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏ —É–≤–µ–¥–æ–º–ª—è—é—Ç—Å—è –ø—Ä–∏ –±—Ä–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–∏
- ‚úÖ –ö–æ–Ω—Ç—Ä–æ–ª—å –¥–æ—Å—Ç—É–ø–∞: –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–µ –ø—Ä–æ–≤–µ—Ä–∫–∏ –ø—Ä–∞–≤

### –£–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π:
```
–ü—Ä–∏ –±—Ä–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–∏ —É—Å–ª—É–≥ –∫–æ–º–ø–∞–Ω–∏—è –ø–æ–ª—É—á–∏—Ç –¥–æ—Å—Ç—É–ø –∫:
- –í–∞—à–∏–º –∫–æ–Ω—Ç–∞–∫—Ç–Ω—ã–º –¥–∞–Ω–Ω—ã–º –∏ –∞–¥—Ä–µ—Å—É
- –ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏ –æ —ç–∫—Å—Ç—Ä–µ–Ω–Ω—ã—Ö –∫–æ–Ω—Ç–∞–∫—Ç–∞—Ö  
- –ú–µ–¥–∏—Ü–∏–Ω—Å–∫–æ–π –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏ –æ –ø–∏—Ç–æ–º—Ü–µ
- –ü–æ–≤–µ–¥–µ–Ω—á–µ—Å–∫–∏–º –æ—Å–æ–±–µ–Ω–Ω–æ—Å—Ç—è–º –ø–∏—Ç–æ–º—Ü–∞

–î–∞–Ω–Ω—ã–µ –∏—Å–ø–æ–ª—å–∑—É—é—Ç—Å—è –¥–ª—è –±–µ–∑–æ–ø–∞—Å–Ω–æ–≥–æ –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª–µ–Ω–∏—è —É—Å–ª—É–≥.
```

## üîß –¢–µ—Ö–Ω–∏—á–µ—Å–∫–∞—è —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—è

### –¢—Ä–µ–±—É–µ–º—ã–µ –∏–º–ø–æ—Ä—Ç—ã:
```go
import (
    "github.com/lib/pq" // –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å –º–∞—Å—Å–∏–≤–∞–º–∏ PostgreSQL
)
```

### –ü—Ä–æ–≤–µ—Ä–∫–∞ –∫–æ–º–ø–∏–ª—è—Ü–∏–∏:
```bash
cd backend
go build -o zootel.exe ./cmd/main.go
# ‚úÖ –°–±–æ—Ä–∫–∞ —É—Å–ø–µ—à–Ω–∞
```

## üìà –°—Ç–∞—Ç—É—Å –≤–Ω–µ–¥—Ä–µ–Ω–∏—è

- ‚úÖ –ú–æ–¥–µ–ª–∏ –¥–∞–Ω–Ω—ã—Ö –æ–±–Ω–æ–≤–ª–µ–Ω—ã
- ‚úÖ –°–µ—Ä–≤–∏—Å—ã —Ä–∞—Å—à–∏—Ä–µ–Ω—ã  
- ‚úÖ API endpoints –¥–æ–±–∞–≤–ª–µ–Ω—ã
- ‚úÖ –°–∏—Å—Ç–µ–º–∞ –∫–æ–Ω—Ç—Ä–æ–ª—è –¥–æ—Å—Ç—É–ø–∞ —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–∞
- ‚úÖ –ö–æ–¥ –ø—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω –∏ —Å–∫–æ–º–ø–∏–ª–∏—Ä–æ–≤–∞–Ω
- ‚úÖ –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è –æ–±–Ω–æ–≤–ª–µ–Ω–∞

**–°–∏—Å—Ç–µ–º–∞ –≥–æ—Ç–æ–≤–∞ –∫ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—é –∫–æ–º–ø–∞–Ω–∏—è–º–∏ –¥–ª—è –ø–æ–ª—É—á–µ–Ω–∏—è —Ä–∞—Å—à–∏—Ä–µ–Ω–Ω–æ–π –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏ –æ –∫–ª–∏–µ–Ω—Ç–∞—Ö –∏ –∏—Ö –ø–∏—Ç–æ–º—Ü–∞—Ö.** 